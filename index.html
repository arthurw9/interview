<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="style.css?q=3">
<script>
var LoadScript = function(path) {
  var url = path + "?z=" + Math.random();
  var script = document.createElement("script");
  script.src = url;
  document.head.appendChild(script);
  console.log("loading", url);
  return script;
}
LoadScript("interview.js").onload = function() {
  // Start only after the script is loaded.
  var str = "form Interview\n" +
    "\n" +
    "  /* This top section runs on every page */\n" +
    "  button Home\n" +
    "  button Tutorial\n" +
    " \n" +
    "/* TODO: Make if statements work. */\n" +
    "\n" +
    "page Home\n" +
    "  print \"<h1>Interview</h1>\"\n" +
    "  print \"A simple interview language.\"\n" +
    "\n" +
    "  button Tutorial\n" +
    "\n" +
    "page Tutorial\n" +
    "  print \"<h1>Tutorial</h1>\"\n" +
    "  print \"Press the Developer button and you will\n" +
    "      see all the interview language source code that \n" +
    "      makes this site.\"\n" +
    "  print \"From there press Run to get back to the site.\"\n" +
    "  print \"Open a new window to see this tutorial \n" +
    "      while you make changes. Then click Next below.\"\n" +
    "  button Input_Some_Variables\n" +
    "\n" +
    "page Tutorial2\n" +
    "  print \"<h1>Tutorial</h1>\"\n" +
    "  print \"You should have another window open now.\"\n" +
    "  print \"Let's make our first interview!\"\n" +
    "  print \"Press Developer and then clear all the code.\"\n" +
    "  print \"Enter the following code:\"\n" +
    "  print zz\"\n" +
    "      <pre style=\"border: 1px solid black;\">\n" +
    "      page first\n" +
    "        print \"&lt;h1&gt;Hello World&lt;/h1&gt;\"\n" +
    "      </pre>zz\"\n" +
    "  print \"Then press run.\"\n" +
    "  print \"Press next to continue.\"\n" +
    "\n" +
    "page Tutorial3\n" +
    "  print \"<h1>Tutorial</h1>\"\n" +
    "  print \"Some things to keep in mind:\"\n" +
    "  print \"<ul>\"\n" +
    "  print \"<li>Press developer mode to see how I wrote\n" +
    "      this tutorial.\"\n" +
    "  print \"<li>The print keyword takes a single argument:\n" +
    "      Either a string literal or a variable. It can't\n" +
    "      take an expression.\"\n" +
    "  print z\"<li>The button keyword takes a single\n" +
    "      argument. It's an identifier but it's value is not\n" +
    "      evaluated. The name of the identifier must match\n" +
    "      the name of the page. For example this is a self\n" +
    "      link:\n" +
    "      <pre style=\"border: 1px solid black;\">\n" +
    "      page foo button foo\n" +
    "      </pre>z\"\n" +
    "  print z\"<li>Want to print quotes without\n" +
    "      ending the print statement? The interview\n" +
    "      language has a special quote syntax. Any\n" +
    "      unique identifier with a quote at the end\n" +
    "      is a quote. To end the quote just use the\n" +
    "      same identifier. For example, try this:\n" +
    "      <pre style=\"border: 1px solid black;\">\n" +
    "      page foo\n" +
    "      print unique\"\n" +
    "        Hi. We can use \"quotes\" here. We can also use\n" +
    "        the work 'unique' here. But to end this string,\n" +
    "        we have to put it together. Just use the same\n" +
    "        identifier with a quote at the end.unique\"\n" +
    "      </pre>z\"\n" +
    "  print z\"<li>input takes an identifier as a single\n" +
    "      argument.  It lets the user enter values. The\n" +
    "      value is updated only after the user leaves the\n" +
    "      input field. But the page is not reloaded\n" +
    "      automatically when the value changes. Things that\n" +
    "      were already printed, don't update until you\n" +
    "      reload the page. Try it:\n" +
    "      <pre style=\"border: 1px solid black;\">\n" +
    "      form foo\n" +
    "      page refresh\n" +
    "        print \"line1:\"\n" +
    "        input line1\n" +
    "        print \"line2:\"\n" +
    "        input line2\n" +
    " \n" +
    "        z = \"Currently line1 = \" + line1;\n" +
    "        print z\n" +
    "        z = \"Currently line2 = \" + line2;\n" +
    "        print z\n" +
    "\n" +
    "        z = \"line1 + line2 = \" + (line1 + line2);\n" +
    "        print z\n" +
    "        print \"\"\n" +
    "        button refresh\n" +
    "    </pre>z\"\n" +
    "  print \"<li>The top part of the code, before any page\n" +
    "     keywords, runs before every page. Put any\n" +
    "     formulas there and they will run before all pages.\n" +
    "     Put visual elements there, like buttons, and they\n" +
    "     will be rendered on top of all pages.\"\n" +
    "  print \"<li>The form keyword is a container. All data\n" +
    "      lives in the context of a form. If you don't\n" +
    "      create a form, then any variables you set will\n" +
    "      live in the default form with empty name. The same\n" +
    "      variable can have different values in the\n" +
    "      context of different forms. For example:\"\n" +
    "  print z\"<pre style=\"border: 1px solid black;\">\n" +
    "      button init button pg_a button pg_b button pg_c \n" +
    "      page init\n" +
    "        form a\n" +
    "          line_1 = \"inside form a\";\n" +
    "        form b\n" +
    "          line_1 = \"inside form b\";\n" +
    "      page pg_a\n" +
    "        form a\n" +
    "          print line_1\n" +
    "      page pg_b\n" +
    "        form b\n" +
    "          print line_1\n" +
    "      page pg_c\n" +
    "        print line_1\n" +
    "      </pre>z\"\n" +
    "  print \"<li>If you don't specify the form, like on pg_c\n" +
    "      above, then you get whatever form was last used.\"\n" +
    "  print \"<li>What else? \"\n" +
    "  print \"</ul>\"\n" +
    "\n" +
    "page Initialize_Some_Variables\n" +
    "  num = 1;\n" +
    "  str = \"Hello World \";\n" +
    "  print \"Yay! You initialized some variables.\"\n" +
    "  print \"num = 1;\"\n" +
    "  print z\"str = \"Hello World\";z\"\n" +
    "  print \"\"\n" +
    "  button Initialize_Some_Variables\n" +
    "  button Modify_Some_Variables\n" +
    "  button Print_Some_Variables\n" +
    "  button Input_Some_Variables\n" +
    "\n" +
    "page Print_Some_Variables\n" +
    "  z = \"num = \" + num;\n" +
    "  print z\n" +
    "  z = \"str = \" + str;\n" +
    "  print z\n" +
    "  print \"\"\n" +
    "  button Initialize_Some_Variables\n" +
    "  button Modify_Some_Variables\n" +
    "  button Print_Some_Variables\n" +
    "  button Input_Some_Variables\n" +
    "\n" +
    "page Modify_Some_Variables\n" +
    "  num = num + num;\n" +
    "  str = str + str;\n" +
    "  print \"Yay! You modified some variables.\"\n" +
    "  print \"num = num + num;\"\n" +
    "  print \"str = str + str;\"\n" +
    "  print \"\"\n" +
    "  button Initialize_Some_Variables\n" +
    "  button Modify_Some_Variables\n" +
    "  button Print_Some_Variables\n" +
    "  button Input_Some_Variables\n" +
    "\n" +
    "page Input_Some_Variables\n" +
    "  print \"num: \"\n" +
    "  input num\n" +
    "  print \"str:\"\n" +
    "  input str\n" +
    "  print \"\"\n" +
    "  button Initialize_Some_Variables\n" +
    "  button Modify_Some_Variables\n" +
    "  button Print_Some_Variables\n" +
    "  button Input_Some_Variables\n" +
    "  \n";
  var model = Parse(str);
  var interview = document.getElementById("interview");
  RenderModel(model, interview);
}
</script>
</head>
<body>
<h1>Forms!</h1>
<a href="test.html">Unit test file</a>
<div class=flex id=outer>
<div class=flex>
<form id="interview"></form>
</div>
</div>
</body>
</html>

